<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<style>

/* Fast sunset gradient */

body{
    margin:0;
    font-family:Arial;
    text-align:center;
    background:linear-gradient(-45deg,#ff5e13,#ff0033,#ff2d75,#ff5e13);
    background-size:400% 400%;
    animation:gradientShift 1s linear infinite;
    overflow-x:hidden;
}

@keyframes gradientShift{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

/* Hearts */

.bgHeart{
    position:fixed;
    font-size:18px;
    opacity:0.35;
    animation:bgFloat linear infinite;
    text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black;
}

@keyframes bgFloat{
    from{ transform:translateY(100vh); }
    to{ transform:translateY(-10vh); }
}

/* Container */

.container{
    padding:25px;
    animation:fadeIn 0.8s ease;
}

@keyframes fadeIn{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}

/* Buttons */

button{
    padding:15px 28px;
    font-size:18px;
    margin:15px;
    border-radius:12px;
    border:none;
    cursor:pointer;
}

/* Keep YES centered and visible */

#yesBtn{
    position:fixed;
    left:50%;
    bottom:10%;
    transform:translateX(-50%);
    z-index:9999;
}

/* Media */

img, video{
    max-width:90%;
    max-height:60vh;
    border-radius:18px;
    box-shadow:0 0 25px rgba(0,0,0,0.25);
}

.caption{
    font-size:20px;
    margin-top:12px;
}

</style>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

</head>
<body>

<div class="container" id="app">
<h1>Hey Bujjammaluuuu‚ù§Ô∏è</h1>
<p>I made something just for you...</p>
<button onclick="start()">Start</button>
</div>

<script>

/* Hearts */
function createBackgroundHearts(){
    for(let i=0;i<25;i++){
        const h=document.createElement("div");
        h.className="bgHeart";
        h.innerHTML="‚ù§Ô∏è";
        h.style.left=Math.random()*100+"vw";
        h.style.animationDuration=(5+Math.random()*5)+"s";
        h.style.fontSize=(16+Math.random()*14)+"px";
        document.body.appendChild(h);
    }
}
createBackgroundHearts();

/* Media */

const media=[
  {type:"image", src:"photo1.jpg", caption:"Our very first photo!"},
  {type:"image", src:"photo2.jpg", caption:"The day we kissed for the first time!"},
  {type:"video", src:"video1.mp4", caption:"First time you held my hand!"},
  {type:"image", src:"photo3.jpg", caption:"My favourite photo of yours lol!"},
  {type:"image", src:"photo4.jpg", caption:"First temple visit together!"}
];

let index=0;
let music;
let timer;
let noClicks=0;
let yesScale=1;

/* Start */

function start(){
    music=new Audio("music.mp3");
    music.loop=true;
    music.play().catch(()=>{});
    showMedia();
}

/* Slideshow */

function showMedia(){
    const item=media[index];

    let content=item.type==="image"
        ? `<img src="${item.src}">`
        : `<video id="slideVid" controls autoplay playsinline>
             <source src="${item.src}" type="video/mp4">
           </video>`;

    document.getElementById("app").innerHTML=`
        ${content}
        <div class="caption">${item.caption}</div>
    `;

    if(item.type==="image"){
        timer=setTimeout(nextSlide,3500);
    } else {
        document.getElementById("slideVid").onended=nextSlide;
    }
}

function nextSlide(){
    index++;
    if(index<media.length){
        showMedia();
    } else {
        question();
    }
}

/* Question */

function question(){
    document.getElementById("app").innerHTML=`
        <img src="gif2.gif">
        <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>
        <button id="yesBtn" onclick="yes()">Yes</button>
        <button id="noBtn" onclick="dodgeNo()">No</button>
    `;
}

/* NO click */

function dodgeNo(){

    noClicks++;

    const btn=document.getElementById("noBtn");
    const yesBtn=document.getElementById("yesBtn");

    const responses=[
        "No","Are you sure?","Really sure?","Think again üòú",
        "Last chance!","Just press Yes ‚ù§Ô∏è","Nope üòè","Still no?",
        "Destiny says YES","Come on now‚Ä¶","You know the answer üòâ",
        "Error 404: No not found","Nice try üòÑ","Just tap YES ‚ù§Ô∏è"
    ];

    if(noClicks<responses.length){
        btn.innerText=responses[noClicks];
    }

    const maxX=window.innerWidth-btn.offsetWidth;
    const maxY=window.innerHeight-btn.offsetHeight;

    btn.style.position="fixed";
    btn.style.left=Math.random()*maxX+"px";
    btn.style.top=Math.random()*maxY+"px";

    yesScale*=3;
    yesBtn.style.transform=`translateX(-50%) scale(${yesScale})`;
}

/* YES */

function yes(){
    music.pause();

    confetti({particleCount:300,spread:130,origin:{y:0.6}});

    document.getElementById("app").innerHTML=`
        <img src="gif1.gif">
        <h1>You just made me the happiest person ‚ù§Ô∏è</h1>
        <p>I can't wait for our date üôÇ</p>
    `;
}

</script>
</body>
</html>
