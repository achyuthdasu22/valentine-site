<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<style>
body{
    margin:0;
    text-align:center;
    font-family:Arial;
    background:#ffe6f0;
    overflow-x:hidden;
}

.container{
    padding:25px;
}

button{
    padding:15px 25px;
    font-size:18px;
    margin:15px;
    cursor:pointer;
    border-radius:10px;
    border:none;
}

img, video{
    max-width:90%;
    max-height:60vh;
    border-radius:15px;
    box-shadow:0 0 20px rgba(0,0,0,0.2);
}

.caption{
    font-size:19px;
    margin-top:15px;
}

/* Floating hearts animation */

.heart{
    position:fixed;
    bottom:-20px;
    font-size:20px;
    animation:floatUp linear forwards;
}

@keyframes floatUp{
    to{
        transform:translateY(-110vh);
        opacity:0;
    }
}

</style>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

</head>
<body>

<div class="container" id="app">
<h1>Hey Bujjammaluuuu‚ù§Ô∏è</h1>
<p>I made something just for you...</p>
<button onclick="start()">Start</button>
</div>

<script>

// MEDIA
const media = [
  {type:"image", src:"photo1.jpg", caption:"Our very first photo!"},
  {type:"image", src:"photo2.jpg", caption:"The day we kissed for the first time!"},
  {type:"video", src:"video1.mp4", caption:"first time you held my hand!"},
  {type:"image", src:"photo3.jpg", caption:"My favourite photo of yours lol!"},
  {type:"image", src:"photo4.jpg", caption:"First temple visit together!"}
];

let index=0;
let music;
let noClicks=0;
let yesSize=18;

// START
function start(){
    music=new Audio("music.mp3");
    music.loop=true;
    music.play();
    showMedia();
}

// SHOW MEDIA
function showMedia(){
    let item=media[index];
    let content="";

    if(item.type==="image"){
        content=`<img src="${item.src}">`;
    }else{
        content=`<video controls playsinline autoplay>
                   <source src="${item.src}" type="video/mp4">
                 </video>`;
    }

    document.getElementById("app").innerHTML=`
        ${content}
        <div class="caption">${item.caption}</div>
        <button onclick="next()">Next ‚ù§Ô∏è</button>
    `;
}

// NEXT
function next(){
    index++;
    if(index<media.length){
        showMedia();
    }else{
        question();
    }
}

// FLOATING HEARTS
function spawnHearts(){
    setInterval(()=>{
        const heart=document.createElement("div");
        heart.className="heart";
        heart.innerHTML="‚ù§Ô∏è";
        heart.style.left=Math.random()*100+"vw";
        heart.style.animationDuration=(3+Math.random()*3)+"s";
        document.body.appendChild(heart);

        setTimeout(()=>heart.remove(),6000);
    },300);
}

// QUESTION SCREEN
function question(){

    document.getElementById("app").innerHTML=`
        <img src="gif1.gif">
        <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>
        <button id="yesBtn" onclick="yes()">Yes</button>
        <button id="noBtn" onclick="dodgeNo()">No</button>
    `;

    spawnHearts();
}

// NO CLICK
function dodgeNo(){

    noClicks++;

    const btn=document.getElementById("noBtn");
    const yesBtn=document.getElementById("yesBtn");

    const responses=[
        "No",
        "Are you sure?",
        "Really sure?",
        "Think again üòú",
        "Last chance!",
        "Just press Yes ‚ù§Ô∏è",
        "Nope üòè",
        "Still no?",
        "You‚Äôre persistent!",
        "This button disagrees",
        "Try again üòÇ", 
        "Destiny says YES",
        "Come on now‚Ä¶",
        "You know the answer üòâ",
        "System recommends YES",
        "Error 404: No not found",
        "Nice try üòÑ",
        "This isn‚Äôt working",
        "Just tap YES already ‚ù§Ô∏è",
        "I'll keep running!",
        "You can‚Äôt catch me!"

    ];

    if(noClicks<responses.length){
        btn.innerText=responses[noClicks];
    }

    // Move NO button
    const maxX=window.innerWidth-btn.offsetWidth;
    const maxY=window.innerHeight-btn.offsetHeight;

    btn.style.position="fixed";
    btn.style.left=Math.random()*maxX+"px";
    btn.style.top=Math.random()*maxY+"px";

    // Grow YES button
    yesSize+=6;
    yesBtn.style.fontSize=yesSize+"px";
}

// YES CLICK
function yes(){

    music.pause();

    confetti({
        particleCount:250,
        spread:120,
        origin:{y:0.6}
    });

    document.getElementById("app").innerHTML=`
        <img src="gif2.gif">
        <h1>You just made me the happiest person ‚ù§Ô∏è</h1>
        <p>I can't wait for our date üôÇ</p>
    `;
}

</script>

</body>
</html>
